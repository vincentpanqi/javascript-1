<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Check for Palindromes</title>
	<!-- https://www.freecodecamp.com/challenges/check-for-palindromes -->
	<!-- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace -->
	<!-- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase -->
	<!-- http://phpzf.blog.51cto.com/3011675/782012 -->
</head>
<body>
	<div>
		<h1>Check for Palindromes 回文</h1>
		<h2>正则表达式，过滤非数字（0-9）,字母（a-z, A-Z）以外的字符！</h2 >
	</div>
	<script>
		// reverse str function
		function reverseString(str1) {
			var a = [];//array
			for (var i = 0; i < str1.length; i++) {
				a[i] = str1[i];
				// console.log("a[i]="+a[i]);
			}
			a.reverse();
			// join()
			str1 = a.join('');
			return str1;
		}

		function palindrome(str) {
			// Good luck!
			var b;
			//var reg = /\W/g;
			//var reg = /([\(\)\[\]\{\}\^\$\＋\,\s\_\:\-\*\?\.\"\'\|\/\\])/g;
			var reg = /([\(\)\[\]\{\}\^\$\+\s\_\:\-\*\?\.\"\'\|\/\\])/g;
			var s  = str.toLowerCase();
			//var n =  s.filter(reg);//TypeError: s.filter is not a function
			var n =  s.replace(reg,"");
			//You'll need to remove all non-alphanumeric characters

			if(n === reverseString(n)){
				b = true;
			}else{
				b = false;
			}
			//
			return b;
		}
		var xyz;
		xyz = palindrome("_eye");
		console.log(xyz);
		xyz = palindrome("0_0 (: /-\ :) 0-0");
		console.log(xyz);
		//0000
		xyz = palindrome("race car");
		console.log(xyz);
		//
		xyz = palindrome("not a palindrome");
		console.log(xyz);
		xyz = palindrome("A man, a plan, a canal. Panama");
		console.log(xyz);
		xyz = palindrome("never odd or even");
		console.log(xyz);
		xyz = palindrome("My age is 0, 0 si ega ym.");
		console.log(xyz);
		xyz = palindrome("1 eye for of 1 eye.");
		console.log(xyz);
		xyz = palindrome("five|\_/|four");
		console.log(xyz);
	</script>
</body>
</html>